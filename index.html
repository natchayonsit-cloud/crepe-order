<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ</title>

<!-- LIFF SDK -->
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<style>
body { font-family: sans-serif; padding: 16px; }
h2 { margin-top: 24px; }
button {
  padding: 14px;
  font-size: 16px;
  width: 100%;
  background: #06c755;
  color: #fff;
  border: none;
  border-radius: 8px;
}
</style>
</head>

<body>

<!-- ================= ‡πÅ‡∏õ‡πâ‡∏á ================= -->
<h2>ü•û ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏õ‡πâ‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1)</h2>
<input type="radio" name="flour" value="‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö|20"> ‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö (20)<br>
<input type="radio" name="flour" value="‡πÅ‡∏õ‡πâ‡∏á‡∏ô‡∏¥‡πà‡∏°|20"> ‡πÅ‡∏õ‡πâ‡∏á‡∏ô‡∏¥‡πà‡∏° (20)<br>

<!-- ================= ‡πÅ‡∏¢‡∏° ================= -->
<h2>üç´ ‡πÅ‡∏¢‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ 1‚Äì2 ‡∏≠‡∏¢‡πà‡∏≤‡∏á)</h2>
<input type="checkbox" name="jam" value="‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï|0"> ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï (+0)<br>
<input type="checkbox" name="jam" value="‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ|0"> ‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ (+0)<br>
<input type="checkbox" name="jam" value="‡∏ß‡∏ô‡∏¥‡∏•‡∏≤|0"> ‡∏ß‡∏ô‡∏¥‡∏•‡∏≤ (+0)<br>
<input type="checkbox" name="jam" value="‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢|0"> ‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢ (+0)<br>
<input type="checkbox" name="jam" value="‡∏™‡πâ‡∏°|0"> ‡∏™‡πâ‡∏° (+0)<br>
<input type="checkbox" name="jam" value="‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢|0"> ‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ (+0)<br>
<input type="checkbox" name="jam" value="‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ|0"> ‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ (+0)<br>
<input type="checkbox" name="jam" value="‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏ú‡∏≤|0"> ‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏ú‡∏≤ (+0)<br>
<input type="checkbox" name="jam" value="‡∏ô‡∏π‡πÄ‡∏ó‡∏•‡∏•‡πà‡∏≤|15"> ‡∏ô‡∏π‡πÄ‡∏ó‡∏•‡∏•‡πà‡∏≤ (+15)<br>

<!-- ================= ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á ================= -->
<h2>üçå ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ 1‚Äì5 ‡∏≠‡∏¢‡πà‡∏≤‡∏á)</h2>
<input type="checkbox" name="topping" value="‡∏Å‡∏•‡πâ‡∏ß‡∏¢|5"> ‡∏Å‡∏•‡πâ‡∏ß‡∏¢ (+5)<br>
<input type="checkbox" name="topping" value="‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏•‡∏Å|5"> ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏•‡∏Å (+5)<br>
<input type="checkbox" name="topping" value="‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏ô‡∏ä‡πå|5"> ‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏ô‡∏ä‡πå (+5)<br>
<input type="checkbox" name="topping" value="‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ö‡∏î|5"> ‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ö‡∏î (+5)<br>
<input type="checkbox" name="topping" value="‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î|5"> ‚≠ê ‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î (+5)<br>

<input type="checkbox" name="topping" value="‡∏ù‡∏≠‡∏¢‡∏ó‡∏≠‡∏á|10"> ‡∏ù‡∏≠‡∏¢‡∏ó‡∏≠‡∏á (+10)<br>
<input type="checkbox" name="topping" value="‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á|10"> ‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á (+10)<br>
<input type="checkbox" name="topping" value="‡πÄ‡∏¢‡∏•‡∏•‡∏µ‡πà‡πÅ‡∏î‡∏á|10"> ‡πÄ‡∏¢‡∏•‡∏•‡∏µ‡πà‡πÅ‡∏î‡∏á (+10)<br>
<input type="checkbox" name="topping" value="‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏•|10"> ‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏• (+10)<br>
<input type="checkbox" name="topping" value="‡∏´‡∏°‡∏π‡∏´‡∏¢‡∏≠‡∏á|10"> ‡∏´‡∏°‡∏π‡∏´‡∏¢‡∏≠‡∏á (+10)<br>
<input type="checkbox" name="topping" value="‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å|10"> ‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å (+10)<br>
<input type="checkbox" name="topping" value="‡∏õ‡∏π‡∏≠‡∏±‡∏î|10"> ‡∏õ‡∏π‡∏≠‡∏±‡∏î (+10)<br>
<input type="checkbox" name="topping" value="‡∏ä‡∏µ‡∏™|10"> ‡∏ä‡∏µ‡∏™ (+10)<br>
<input type="checkbox" name="topping" value="‡πÑ‡∏Ç‡πà|10"> ‡πÑ‡∏Ç‡πà (+10)<br>
<input type="checkbox" name="topping" value="‡πÅ‡∏Æ‡∏°|10"> ‡πÅ‡∏Æ‡∏° (+10)<br>

<!-- ================= ‡∏ã‡∏≠‡∏™ ================= -->
<h2>üßÄ ‡∏ã‡∏≠‡∏™ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ 1‚Äì3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á)</h2>
<input type="checkbox" name="sauce" value="‡∏ô‡∏°‡∏Ç‡πâ‡∏ô|0"> ‡∏ô‡∏°‡∏Ç‡πâ‡∏ô<br>
<input type="checkbox" name="sauce" value="‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï|0"> ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï<br>
<input type="checkbox" name="sauce" value="‡∏ã‡∏≠‡∏™‡∏û‡∏£‡∏¥‡∏Å|0"> ‡∏ã‡∏≠‡∏™‡∏û‡∏£‡∏¥‡∏Å<br>
<input type="checkbox" name="sauce" value="‡∏°‡∏≤‡∏¢‡∏≠‡∏á‡πÄ‡∏ô‡∏™|0"> ‡∏°‡∏≤‡∏¢‡∏≠‡∏á‡πÄ‡∏ô‡∏™<br>
<input type="checkbox" name="sauce" value="‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®|0"> ‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®<br>
<input type="checkbox" name="sauce" value="‡πÑ‡∏°‡πà‡∏£‡∏≤‡∏î‡∏ã‡∏≠‡∏™|0"> ‡πÑ‡∏°‡πà‡∏£‡∏≤‡∏î‡∏ã‡∏≠‡∏™<br>

<br>
<button onclick="sendOrder()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ</button>

<script>
const LIFF_ID = "2008739884-92cBWC4G";

window.onload = async () => {
  await liff.init({ liffId: LIFF_ID });
};

function parseItem(value) {
  const [name, price] = value.split("|");
  return { name, price: Number(price) };
}

async function sendOrder() {
  if (!liff.isInClient()) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE");
    return;
  }

  let total = 0;

  let flourEl = document.querySelector('input[name="flour"]:checked');
  if (!flourEl) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏õ‡πâ‡∏á");
    return;
  }

  let flour = parseItem(flourEl.value);
  total += flour.price;

  let jams = [];
  document.querySelectorAll('input[name="jam"]:checked').forEach(el => {
    let item = parseItem(el.value);
    jams.push(item.name);
    total += item.price;
  });

  let toppings = [];
  document.querySelectorAll('input[name="topping"]:checked').forEach(el => {
    let item = parseItem(el.value);
    toppings.push(item.name);
    total += item.price;
  });

  let sauces = [];
  document.querySelectorAll('input[name="sauce"]:checked').forEach(el => {
    let item = parseItem(el.value);
    sauces.push(item.name);
  });

  let message =
`üßæ ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ
ü•û ‡πÅ‡∏õ‡πâ‡∏á: ${flour.name}
üç´ ‡πÅ‡∏¢‡∏°: ${jams.join(", ") || "-"}
üçå ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á: ${toppings.join(", ") || "-"}
üßÄ ‡∏ã‡∏≠‡∏™: ${sauces.join(", ") || "-"}

üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: ${total} ‡∏ö‡∏≤‡∏ó
üìå ‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö`;

  await liff.sendMessages([
    { type: "text", text: message }
  ]);

  liff.closeWindow();
}
</script>

</body>
</html>
