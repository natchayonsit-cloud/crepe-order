<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>р╕кр╕▒р╣Ир╕Зр╣Ар╕Др╕гр╕Ы</title>

<!-- LIFF SDK -->
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<style>
body { font-family: sans-serif; padding: 16px; }
h2 { margin-top: 24px; }
button {
  padding: 14px;
  font-size: 16px;
  width: 100%;
  background: #06c755;
  color: #fff;
  border: none;
  border-radius: 8px;
}
</style>
</head>

<body>

<h2>ЁЯеЮ р╣Ар╕ер╕╖р╕нр╕Бр╣Бр╕Ыр╣Йр╕З</h2>
<input type="radio" name="flour" value="р╣Бр╕Ыр╣Йр╕Зр╕Бр╕гр╕нр╕Ъ"> р╣Бр╕Ыр╣Йр╕Зр╕Бр╕гр╕нр╕Ъ<br>
<input type="radio" name="flour" value="р╣Бр╕Ыр╣Йр╕Зр╕Щр╕┤р╣Ир╕б"> р╣Бр╕Ыр╣Йр╕Зр╕Щр╕┤р╣Ир╕б<br>

<h2>ЁЯНл р╣Бр╕вр╕б</h2>
<input type="radio" name="jam" value="р╕Щр╕╣р╣Ар╕Чр╕ер╕ер╣Ир╕▓"> р╕Щр╕╣р╣Ар╕Чр╕ер╕ер╣Ир╕▓<br>
<input type="radio" name="jam" value="р╕Кр╣Зр╕нр╕Бр╣Вр╕Бр╣Бр╕ер╕Х"> р╕Кр╣Зр╕нр╕Бр╣Вр╕Бр╣Бр╕ер╕Х<br>
<input type="radio" name="jam" value="р╕кр╕Хр╕гр╕нр╕зр╣Мр╣Ар╕Ър╕нр╕гр╣Мр╕гр╕╡"> р╕кр╕Хр╕гр╕нр╕зр╣Мр╣Ар╕Ър╕нр╕гр╣Мр╕гр╕╡<br>

<h2>ЁЯНМ р╕Чр╣Зр╕нр╕Ыр╕Ыр╕┤р╣Йр╕З</h2>
<input type="checkbox" name="topping" value="р╕Бр╕ер╣Йр╕зр╕в"> р╕Бр╕ер╣Йр╕зр╕в<br>
<input type="checkbox" name="topping" value="р╕Кр╕╡р╕к"> р╕Кр╕╡р╕к<br>
<input type="checkbox" name="topping" value="р╣Др╕Вр╣И"> р╣Др╕Вр╣И<br>

<h2>ЁЯНп р╕Лр╕нр╕к</h2>
<input type="checkbox" name="sauce" value="р╕Щр╕бр╕Вр╣Йр╕Щ"> р╕Щр╕бр╕Вр╣Йр╕Щ<br>
<input type="checkbox" name="sauce" value="р╕Кр╣Зр╕нр╕Бр╣Вр╕Бр╣Бр╕ер╕Х"> р╕Кр╣Зр╕нр╕Бр╣Вр╕Бр╣Бр╕ер╕Х<br>

<br>
<button onclick="sendOrder()">р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕кр╕▒р╣Ир╕Зр╣Ар╕Др╕гр╕Ы</button>

<!-- тЬЕ STEP 3 : JavaScript (р╕бр╕╡р╣Бр╕Др╣Ир╕Щр╕╡р╣Йр╕нр╕▒р╕Щр╣Ар╕Фр╕╡р╕вр╕зр╕Юр╕н) -->
<script>
async function sendOrder() {
  await liff.init({ liffId: "2008739884-Ml1lkrcK" });

  if (!liff.isInClient()) {
    alert("р╕Бр╕гр╕╕р╕Ур╕▓р╣Ар╕Ыр╕┤р╕Фр╕Ьр╣Ир╕▓р╕Щ LINE");
    return;
  }

  let flour = document.querySelector('input[name="flour"]:checked')?.value || "-";
  let jam = document.querySelector('input[name="jam"]:checked')?.value || "-";

  let toppings = [...document.querySelectorAll('input[name="topping"]:checked')]
    .map(el => el.value)
    .join(", ") || "-";

  let sauces = [...document.querySelectorAll('input[name="sauce"]:checked')]
    .map(el => el.value)
    .join(", ") || "-";

  let message =
`ЁЯз╛ р╕кр╕гр╕╕р╕Ыр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕▒р╣Ир╕Зр╣Ар╕Др╕гр╕Ы
ЁЯеЮ р╣Бр╕Ыр╣Йр╕З: ${flour}
ЁЯНл р╣Бр╕вр╕б: ${jam}
ЁЯНМ р╕Чр╣Зр╕нр╕Ыр╕Ыр╕┤р╣Йр╕З: ${toppings}
ЁЯНп р╕Лр╕нр╕к: ${sauces}

ЁЯУМ р╕гр╣Йр╕▓р╕Щр╕Ир╕░р╣Бр╕Ир╣Йр╕Зр╕гр╕▓р╕Др╕▓р╣Гр╕лр╣Йр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Др╕гр╕▒р╕Ъ`;

  await liff.sendMessages([
    { type: "text", text: message }
  ]);

  liff.closeWindow();
}
</script>

</body>
</html>
