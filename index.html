<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ</title>

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<style>
body { font-family: sans-serif; padding: 16px; }
h2 { margin-top: 24px; }
button {
  padding: 14px;
  font-size: 16px;
  width: 100%;
  background: #06c755;
  color: #fff;
  border: none;
  border-radius: 8px;
}
.sheet {
  border: 2px solid #ddd;
  padding: 12px;
  margin-bottom: 24px;
  border-radius: 8px;
}
</style>
</head>

<body>

<h1>ü•û ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ</h1>

<!-- ================= ‡πÅ‡∏ú‡πà‡∏ô‡∏ó‡∏µ‡πà 1 ================= -->
<div class="sheet">
<h2>üìÑ ‡πÅ‡∏ú‡πà‡∏ô‡∏ó‡∏µ‡πà 1</h2>

<h3>ü•û ‡πÅ‡∏õ‡πâ‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1)</h3>
<input type="radio" name="flour1" value="‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö|20"> ‡πÅ‡∏õ‡πâ‡∏á‡∏Å‡∏£‡∏≠‡∏ö (20)<br>
<input type="radio" name="flour1" value="‡πÅ‡∏õ‡πâ‡∏á‡∏ô‡∏¥‡πà‡∏°|20"> ‡πÅ‡∏õ‡πâ‡∏á‡∏ô‡∏¥‡πà‡∏° (20)<br>

<h3>üç´ ‡πÅ‡∏¢‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2)</h3>
<label><input type="checkbox" name="jam1" value="‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï|0"> ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï</label><br>
<label><input type="checkbox" name="jam1" value="‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ|0"> ‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ</label><br>
<label><input type="checkbox" name="jam1" value="‡∏ß‡∏ô‡∏¥‡∏•‡∏≤|0"> ‡∏ß‡∏ô‡∏¥‡∏•‡∏≤</label><br>
<label><input type="checkbox" name="jam1" value="‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢|0"> ‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢</label><br>
<label><input type="checkbox" name="jam1" value="‡∏™‡πâ‡∏°|0"> ‡∏™‡πâ‡∏°</label><br>
<label><input type="checkbox" name="jam1" value="‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢|0"> ‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢</label><br>
<label><input type="checkbox" name="jam1" value="‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ|0"> ‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ</label><br>
<label><input type="checkbox" name="jam1" value="‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏ú‡∏≤|0"> ‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏ú‡∏≤</label><br>
<label><input type="checkbox" name="jam1" value="‡∏ô‡∏π‡πÄ‡∏ó‡∏•‡∏•‡πà‡∏≤|15"> ‡∏ô‡∏π‡πÄ‡∏ó‡∏•‡∏•‡πà‡∏≤ (+15)</label><br>

<h3>üçå ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5)</h3>
<label><input type="checkbox" name="topping1" value="‡∏Å‡∏•‡πâ‡∏ß‡∏¢|5"> ‡∏Å‡∏•‡πâ‡∏ß‡∏¢ (+5)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏•‡∏Å|5"> ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏•‡∏Å (+5)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏ô‡∏ä‡πå|5"> ‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏ô‡∏ä‡πå (+5)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ö‡∏î|5"> ‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ö‡∏î (+5)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î|5"> ‡∏•‡∏π‡∏Å‡πÄ‡∏Å‡∏î (+5)</label><br>

<label><input type="checkbox" name="topping1" value="‡∏ù‡∏≠‡∏¢‡∏ó‡∏≠‡∏á|10"> ‡∏ù‡∏≠‡∏¢‡∏ó‡∏≠‡∏á (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á|10"> ‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÄ‡∏¢‡∏•‡∏•‡∏µ‡πà‡πÅ‡∏î‡∏á|10"> ‡πÄ‡∏¢‡∏•‡∏•‡∏µ‡πà‡πÅ‡∏î‡∏á (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏•|10"> ‡∏°‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏•‡πÇ‡∏• (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏´‡∏°‡∏π‡∏´‡∏¢‡∏≠‡∏á|10"> ‡∏´‡∏°‡∏π‡∏´‡∏¢‡∏≠‡∏á (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å|10"> ‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏õ‡∏π‡∏≠‡∏±‡∏î|10"> ‡∏õ‡∏π‡∏≠‡∏±‡∏î (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡∏ä‡∏µ‡∏™|10"> ‡∏ä‡∏µ‡∏™ (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÑ‡∏Ç‡πà|10"> ‡πÑ‡∏Ç‡πà (+10)</label><br>
<label><input type="checkbox" name="topping1" value="‡πÅ‡∏Æ‡∏°|10"> ‡πÅ‡∏Æ‡∏° (+10)</label><br>

<h3>üßÄ ‡∏ã‡∏≠‡∏™ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3)</h3>
<label><input type="checkbox" name="sauce1" value="‡∏ô‡∏°‡∏Ç‡πâ‡∏ô|0"> ‡∏ô‡∏°‡∏Ç‡πâ‡∏ô</label><br>
<label><input type="checkbox" name="sauce1" value="‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï|0"> ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï</label><br>
<label><input type="checkbox" name="sauce1" value="‡∏ã‡∏≠‡∏™‡∏û‡∏£‡∏¥‡∏Å|0"> ‡∏ã‡∏≠‡∏™‡∏û‡∏£‡∏¥‡∏Å</label><br>
<label><input type="checkbox" name="sauce1" value="‡∏°‡∏≤‡∏¢‡∏≠‡∏á‡πÄ‡∏ô‡∏™|0"> ‡∏°‡∏≤‡∏¢‡∏≠‡∏á‡πÄ‡∏ô‡∏™</label><br>
<label><input type="checkbox" name="sauce1" value="‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®|0"> ‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®</label><br>
<label><input type="checkbox" name="sauce1" value="‡πÑ‡∏°‡πà‡∏£‡∏≤‡∏î‡∏ã‡∏≠‡∏™|0"> ‡πÑ‡∏°‡πà‡∏£‡∏≤‡∏î‡∏ã‡∏≠‡∏™</label><br>
</div>

<button onclick="sendOrder()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ</button>

<script>
const LIFF_ID = "2008739884-92cBWC4G";

window.onload = async () => {
  await liff.init({ liffId: LIFF_ID });
};

function parseItem(v) {
  const [n, p] = v.split("|");
  return { name: n, price: Number(p) };
}

function limitCheck(name, max, label) {
  const c = document.querySelectorAll(`input[name="${name}"]:checked`).length;
  if (c > max) {
    alert(`${label} ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô ${max} ‡∏≠‡∏¢‡πà‡∏≤‡∏á`);
    return false;
  }
  return true;
}

async function sendOrder() {
  if (!liff.isInClient()) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE");
    return;
  }

  if (
    !limitCheck("jam1", 2, "‡πÅ‡∏¢‡∏°") ||
    !limitCheck("topping1", 5, "‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á") ||
    !limitCheck("sauce1", 3, "‡∏ã‡∏≠‡∏™")
  ) return;

  let total = 0;
  let flourEl = document.querySelector('input[name="flour1"]:checked');
  if (!flourEl) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏õ‡πâ‡∏á");
    return;
  }

  let flour = parseItem(flourEl.value);
  total += flour.price;

  let jams=[], toppings=[], sauces=[];
  document.querySelectorAll('input[name="jam1"]:checked').forEach(e=>{
    let i=parseItem(e.value); jams.push(i.name); total+=i.price;
  });
  document.querySelectorAll('input[name="topping1"]:checked').forEach(e=>{
    let i=parseItem(e.value); toppings.push(i.name); total+=i.price;
  });
  document.querySelectorAll('input[name="sauce1"]:checked').forEach(e=>{
    sauces.push(parseItem(e.value).name);
  });

  let msg =
`üßæ ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏õ
üìÑ ‡πÅ‡∏ú‡πà‡∏ô‡∏ó‡∏µ‡πà 1
ü•û ‡πÅ‡∏õ‡πâ‡∏á: ${flour.name}
üç´ ‡πÅ‡∏¢‡∏°: ${jams.join(", ") || "-"}
üçå ‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á: ${toppings.join(", ") || "-"}
üßÄ ‡∏ã‡∏≠‡∏™: ${sauces.join(", ") || "-"}

üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: ${total} ‡∏ö‡∏≤‡∏ó
üìå ‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö`;

  await liff.sendMessages([{ type: "text", text: msg }]);
  liff.closeWindow();
}
</script>

</body>
</html>
